# AGENT GUIDELINES FOR gemini_cli

This document outlines essential information for AI agents working within the `gemini_cli` codebase.

## 1. Codebase Overview

`gemini_cli` is a Python-based command-line interface (CLI) application designed to interact with the Google Gemini API, featuring agentic capabilities, knowledge management (ChromaDB), and various utility tasks.

## 2. Technical Architecture & Execution Model

**Strictly Synchronous Execution**:
The `gemini_cli` project operates exclusively in a **STRICTLY SYNCHRONOUS (BLOCKING)** manner.

**Memory (RAG) System - ChromaDB**:
The project utilizes ChromaDB as its vector database for Retrieval Augmented Generation (RAG).

**Agent Loop**: A "ReAct" (Reason + Act) loop is implemented in `agent.py`. The agent thinks, selects a tool from `tools.py`, executes it, and analyzes the result in an iterative fashion.

## 3. Project File Structure

You are operating within `~/gemini_cli/`.

*   **`main.py`**: The primary entry point for the CLI.
*   **`agent.py`**: Contains the core logic for the AI agent's interactive loop.
*   **`api.py`**: Provides a centralized wrapper for Google Gemini API interactions.
*   **`db.py`**: The "Memory" module. Manages all interactions with ChromaDB.
*   **`tools_mod/`**: The "Toolbox". Contains the definitions and synchronous execution logic for all capabilities the agent can invoke.
*   **`tasks_mod/`**: The "Workhorse". Contains complex synchronous logic for specific tasks.
*   **`utils/`**: A collection of synchronous utility functions.
*   **`config.py`**: The "Vault". Stores all global configuration variables, API keys, model names, and ChromaDB host.
*   **`tui_agent.py`**: Implements a Text User Interface (TUI) for an interactive agent experience.

## 4. Critical Development Rules

*   **Dependency Management**:
    *   Use `pip install -r requirements.txt` to install Python packages.
    *   For system-level packages, use the `install_packages` tool, which uses `apt-get`.
*   **Safety Checks**:
    *   Destructive commands (delete, overwrite, system modification) **MUST** use `helpers.user_confirm` logic to prompt the user for confirmation.
    *   File edits **MUST** show a `difflib` preview before saving.

## 5. System Access

The agent has access to the local Ubuntu system and can execute shell commands. This allows for a wide range of capabilities, including:
*   **File System Operations**: Create, read, update, and delete files and directories.
*   **Package Management**: Install and manage system packages using `apt-get` via the `install_packages` tool.
*   **Process Management**: Run and manage system processes.

## 6. Tool Library

The agent has access to a variety of tools defined in `tools_mod/`:

*   **Research**: Google Search.
*   **System**: `execute_shell_command`, `install_packages`.
*   **Coding**: `edit_file`, `create_project`, `lint_python_file`, `format_code`.
*   **Git**: `git_status`, `git_commit`, `git_push`, `git_pull`.

## 7. VPS Management

*   **Target**: `74.208.167.101`.
*   **Access**: SSH via `vps_target=True` in `execute_shell_command`.
*   **Maintenance**: Ensure ChromaDB is running on the VPS.
